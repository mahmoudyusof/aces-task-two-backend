(this.webpackJsonploginsystem=this.webpackJsonploginsystem||[]).push([[0],{127:function(e,t,a){e.exports=a(254)},139:function(e,t){},141:function(e,t){},179:function(e,t){},180:function(e,t){},254:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(47),r=a.n(o),i=a(22),c=a(13),s=a(14),m=a(16),u=a(15),p=a(17),g=a(6),h=a(27),d=a(26),f=a.n(d),E=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("x-auth-token")){var e=f.a.decode(localStorage.getItem("x-auth-token"));this.props.whileLogged(e)}}},{key:"render",value:function(){var e=l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome To Our Task  ^_^"),l.a.createElement("h3",null,"if you're new here please ",l.a.createElement(g.b,{to:"/signup"},"Sign up")),l.a.createElement("h3",null,"if you have an account please ",l.a.createElement(g.b,{to:"/login"},"Log in")));return this.props.name&&(e=l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome To Our Task, ",this.props.name," ^_^"))),e}}]),t}(n.Component),v=Object(i.b)((function(e){return{name:e.name,email:e.email,role:e.role}}),(function(e){return{whileLogged:function(t,a,n){e({type:"IS_LOGGED",payload:t,email:a,role:n})}}}))(E),b=a(32),y=a.n(b),O=a(50),N=a.n(O),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",email:"",password:"",err:""},a.handleInputChangeName=function(e){a.setState({name:e.target.value})},a.handleInputChangeEmail=function(e){a.setState({email:e.target.value})},a.handleInputChangePassword=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){var t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t={name:a.state.name,email:a.state.email,password:a.state.password},n.next=4,y.a.awrap(N.a.post("http://localhost:8000/api/auth/register",t).then((function(e){localStorage.setItem("x-auth-token",e.headers["x-auth-token"]);var t=f.a.decode(localStorage.getItem("x-auth-token"));a.props.isLogged(t)})).catch((function(e){a.setState({err:e.response.data})})));case 4:case"end":return n.stop()}}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return localStorage.getItem("x-auth-token")?l.a.createElement("div",null,l.a.createElement(h.a,{to:{pathname:"/"}})):l.a.createElement("div",null,l.a.createElement("div",{style:{marginTop:50}},l.a.createElement("div",{className:"ui middle aligned center aligned grid"},l.a.createElement("div",{className:"column"},l.a.createElement("h2",{className:"ui teal image header"},l.a.createElement("div",{className:"content"},"Create New Account")),l.a.createElement("form",{className:"ui large form"},l.a.createElement("div",{className:"ui stacked segment"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"ui left icon input"},l.a.createElement("i",{className:"user icon"}),l.a.createElement("input",{type:"text",placeholder:"ex. Abdo Tarek",onChange:this.handleInputChangeName,value:this.state.name}))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"ui left icon input"},l.a.createElement("i",{className:"at icon"}),l.a.createElement("input",{type:"text",name:"email",placeholder:"ex. abdo@tarek.com",onChange:this.handleInputChangeEmail,value:this.state.email}))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"ui left icon input"},l.a.createElement("i",{className:"lock icon"}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleInputChangePassword,value:this.state.password}))),l.a.createElement("div",{className:"ui fluid large teal submit button",onClick:this.handleSubmit},"Signup")),l.a.createElement("div",{className:"ui error message",style:this.state.err?{display:"block"}:{}},this.state.err)),l.a.createElement("div",{className:"ui message"},"Have an account? ",l.a.createElement(g.b,{to:"login"},"Login"))))))}}]),t}(n.Component),w=Object(i.b)((function(e){return{islogged:e.isLogged,topLeft:e.topleft,topRight:e.topright,toLeft:e.toleft,toRight:e.toright,name:e.name,email:e.email,role:e.role}}),(function(e){return{isLogged:function(t,a,n){e({type:"IS_LOGGED",payload:t,email:a,role:n})}}}))(k),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",err:""},a.handleInputChangeEmail=function(e){a.setState({email:e.target.value})},a.handleInputChangePassword=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){var t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t={email:a.state.email,password:a.state.password},n.next=4,y.a.awrap(N.a.post("http://localhost:8000/api/auth/login",t).then((function(e){localStorage.setItem("x-auth-token",e.headers["x-auth-token"]);var t=f.a.decode(localStorage.getItem("x-auth-token"));a.props.isLogged(t)})).catch((function(e){a.setState({err:e.response.data})})));case 4:case"end":return n.stop()}}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return localStorage.getItem("x-auth-token")?l.a.createElement("div",null,l.a.createElement(h.a,{to:{pathname:"/"}})):l.a.createElement("div",{style:{marginTop:50}},l.a.createElement("div",{className:"ui middle aligned center aligned grid"},l.a.createElement("div",{className:"column"},l.a.createElement("h2",{className:"ui teal image header"},l.a.createElement("div",{className:"content"},"Log-in to your account")),l.a.createElement("form",{className:"ui large form"},l.a.createElement("div",{className:"ui stacked segment"},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"ui left icon input"},l.a.createElement("i",{className:"at icon"}),l.a.createElement("input",{type:"text",name:"email",placeholder:"ex. akram@elgnainy.com",onChange:this.handleInputChangeEmail,value:this.state.email}))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"ui left icon input"},l.a.createElement("i",{className:"lock icon"}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleInputChangePassword,value:this.state.password}))),l.a.createElement("div",{className:"ui fluid large teal submit button",onClick:this.handleSubmit},"Login")),l.a.createElement("div",{className:"ui error message",style:this.state.err?{display:"block"}:{}},this.state.err)),l.a.createElement("div",{className:"ui message"},"New to us? ",l.a.createElement(g.b,{to:"/signup"},"Signup")))))}}]),t}(n.Component),j=Object(i.b)((function(e){return{islogged:e.isLogged,topLeft:e.topleft,topRight:e.topright,toLeft:e.toleft,toRight:e.toright,name:e.name,email:e.email,role:e.role}}),(function(e){return{isLogged:function(t,a,n){e({type:"IS_LOGGED",payload:t,email:a,role:n})}}}))(S),L=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"ui secondary pointing menu"},l.a.createElement(g.b,{to:"/",style:{margin:10}},l.a.createElement("h2",null,"Home")),l.a.createElement("div",{className:"right menu"},l.a.createElement(g.b,{to:this.props.toLeft,style:{margin:10}},l.a.createElement("h2",null,this.props.topLeft)),l.a.createElement(g.b,{to:this.props.toRight,style:{margin:10},onClick:this.props.loggedOut},l.a.createElement("h2",null,this.props.topRight))))}}]),t}(n.Component),x=Object(i.b)((function(e){return{topLeft:e.topleft,topRight:e.topright,toLeft:e.toleft,toRight:e.toright,isLogged:e.isLogged}}),(function(e){return{loggedOut:function(){e({type:"LOGGED_OUT"})}}}))(L),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",email:"",role:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.getItem("x-auth-token")){var e=f.a.decode(localStorage.getItem("x-auth-token"));this.setState({name:e.name,email:e.email,role:e.role})}else this.setState({name:"",email:"",role:""})}},{key:"render",value:function(){return localStorage.getItem("x-auth-token")?l.a.createElement("div",null,l.a.createElement("div",{className:"ui two column grid"},l.a.createElement("div",{className:"column"},l.a.createElement("h2",null,"User Name: ",this.state.name)),l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"ui raised segment"},l.a.createElement("a",{className:"ui red ribbon label",href:"/"},"Overview"),l.a.createElement("span",null,"Account Details"),l.a.createElement("p",null," Email: ",this.state.email),l.a.createElement("a",{className:"ui blue ribbon label",href:"/"},"Community")," ","User Reviews",l.a.createElement("p",null,"Role: ",this.state.role))))):l.a.createElement(h.a,{to:{pathname:"/"}})}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loggedin:!1},a.toggleHandler=function(){if(!localStorage.getItem("x-auth-token"))return 0;a.setState({loggedin:!0})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"ui container"},l.a.createElement(g.a,null,l.a.createElement("div",null,l.a.createElement(x,null),l.a.createElement(h.b,{path:"/profile",component:I}),l.a.createElement(h.b,{path:"/",exact:!0,component:v}),l.a.createElement(h.b,{path:"/signup",exact:!0,component:w}),l.a.createElement(h.b,{path:"/login",exact:!0,component:j}))))}}]),t}(n.Component),G=a(49),D={topleft:"Log In",topright:"Sign Up",toleft:"/login",toright:"/signup",isLogged:!1,name:"",email:"",role:""},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return console.log(t),"IS_LOGGED"===t.type?{isLogged:!0,topleft:t.payload.name,topright:"Log Out",toleft:"/profile",toright:"/",name:t.payload.name,email:t.payload.email,role:t.payload.role}:"LOGGED_OUT"===t.type?("Log Out"===e.topright&&localStorage.removeItem("x-auth-token"),{topleft:"Log In",topright:"Sign Up",toleft:"/login",toright:"/signup",isLogged:!1}):e},T=Object(G.b)(R);r.a.render(l.a.createElement(i.a,{store:T},l.a.createElement(C,null)),document.querySelector("#root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.b2f92461.chunk.js.map